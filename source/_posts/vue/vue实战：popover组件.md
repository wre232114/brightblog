---
title: 'vue实战：popover组件'
date: 2019-07-06 10:42:47
tags:
- vue
- vue实战

category:
- vue
- vue实战
---

业务需要，我们需要一个vue的弹出类组件容器，能够自动根据给定的元素定位到视口的固定位置。popper.js的功能比较多，我们需要的功能比较少，这里实现了popper.js的简化版本popsim.js：
* 仅提供基于position:fixed的实现，不考虑嵌套的scroll的情形
* popsim.js不提供任何dom操作，仅作为简单的定位引擎，根据给定的reference进行定位（上下左右，可选位移参数），计算出元素需要显示在相对视口的哪一个位置（左右不溢出边界，当到达边界时（左右边界），自动定位（自身和箭头）。
* 当滚轮滚动时，会重新计算left和top值，对滚轮进行限流
* 提供一个vue的混入层，将布局引擎中的功能添加到任何一个vue组件实例中
* 基于vue的混入层实现popover，渐进式的过渡效果
* 基于popover实现内部的功能，例如弹出菜单，文字提示...