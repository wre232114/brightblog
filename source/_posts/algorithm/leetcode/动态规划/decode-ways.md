---
title: decode-ways
date: 2020-05-11 09:11:01
tags:
- 算法
- leetcode
- 动态规划

category:
- 算法
- leetcode
---
## 问题描述
假设字符到数字的匹配是：
```
A => 1
B => 2
...
Z => 26
```
问题：给定一个数字序列，由字符串编码得到该数字序列的方法的个数。

例如：
```
输入： "12"
输出： "2"

A => 1 b=>2，或者L => 12，两种编码方式都可以得到"12"
```

## 题解
使用动态规划来解，因为对于字符串s[0...i]，其总数可以由s[0...i-1]和s[0...i-2]推出来。

状态定义：状态i表示字符串s[0...i]可能的解码方法数
状态转移方程：dp[i] = (s[i]!=0?dp[i-1]:0) + (s[i-1]!=0&&s[i-2...i]<=26?dp[i-2]:0)。思考方式是，`s[0...i-1] + 非零字符`是一种方式，`s[0...i-2] + 大于9的数字`是另一种方式，满足的话将这两种情况夹起来就可以。

代码：
```js
var numDecodings = function(s) {
  if (s.length == 0) return 0;
  var dp = [];
  dp[0] = s[0]!=0?1:0;
  if (s.length >= 1) {
    dp[1] = (s[1]!=0?dp[0]:0) + ((Number(s[0]+s[1])>=10&&Number(s[0+s[1]])<=26)?1:0);
    for (var i = 2;i < s.length;i++) {
      dp[i] = (s[i]!=0?dp[i-1]:0) + ((Number(s[i-1]+s[i])>=10&&Number(s[i-1+s[1]])<=26)?dp[i-2]:0);
    } 
  }
  return dp[s.length-1];
}
```